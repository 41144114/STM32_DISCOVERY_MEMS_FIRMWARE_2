/*
 * leds.c
 *
 *  Created on: 6 окт. 2022 г.
 *      Author: 4091
 */


void displayUp(short ax, short ay)
{
	offAllLeds();//выключаем все диоды
		if(abs(ax) < 900 && abs(ay) < 900)//если очень маленькие значения, не обращать на них внимания
			return;

		float ugol = atan2(ay, ax)*57;//перевели в градусы

		if(ugol > -22.5 && ugol <= 22.5)
			OnLed(13); //LD10 - вверх
		else if(ugol > 22.5 && ugol <= 67.5)
			OnLed(12); //LD9
		else if(ugol > 67.5 && ugol <= 112.5)
			OnLed(11); //LD7
		else if(ugol > 112.5 && ugol <= 157.5)
			OnLed(10); //LD5
		else if(ugol > 157.5 || ugol <= -157.5)
			OnLed(9); //LD3
		else if(ugol > -67.5 && ugol <= -22.5)
			OnLed(14); //LD8
		else if(ugol > -112.5 && ugol <= -67.5)
			OnLed(15); //LD6
		else if(ugol > -157.5 && ugol <= -112.5)
			OnLed(8); //LD4
}

void displayDown(short ax, short ay)
{
	offAllLeds();//выключаем все диоды
		if(abs(ax) < 900 && abs(ay) < 900)//если очень маленькие значения, не обращать на них внимания
			return;

		float ugol = atan2(ay, ax)*57;//перевели в градусы

		if(ugol > -22.5 && ugol <= 22.5)
			OnLed(13); //LD10 - вверх
		else if(ugol > 22.5 && ugol <= 67.5)
			OnLed(12); //LD9
		else if(ugol > 67.5 && ugol <= 112.5)
			OnLed(11); //LD7
		else if(ugol > 112.5 && ugol <= 157.5)
			OnLed(10); //LD5
		else if(ugol > 157.5 || ugol <= -157.5)
			OnLed(9); //LD3
		else if(ugol > -67.5 && ugol <= -22.5)
			OnLed(14); //LD8
		else if(ugol > -112.5 && ugol <= -67.5)
			OnLed(15); //LD6
		else if(ugol > -157.5 && ugol <= -112.5)
			OnLed(8); //LD4
}
